{% extends "base.html" %}
{% block title %}Sessions{% endblock %}

{% block nav %}{{ super() }}{% endblock %}

{% block content %}
    <div class="container" style="max-width: initial!important;">
        <div class="row">
            <div class="col">
                <div class="jumbotron" style="padding-top: 1rem;">
                    <div class="col-sm-12  rounded text-center">
                        <h2> ARM - Sessions </h2>
                        <p> Create and modify ARM sessions for each of the CD/DVD/Bluray drives on the system.</p>

                        <!-- Nav Tabs -->
                        <ul class="nav nav-tabs" id="sessionsTab" role="tablist">
                            <li class="nav-item" role="presentation">
                                <a class="nav-link active" id="session-drives" data-toggle="tab" href="#sessiondrives" role="tab"
                                aria-controls="session-drives-tab" aria-selected="true">Current Sessions</a>
                            </li>
                            <li class="nav-item" role="presentation">
                                <a class="nav-link" id="session-edit" data-toggle="tab" href="#sessionedit" role="tab"
                                aria-controls="session-edit-tab" aria-selected="false">Edit Sessions</a>
                            </li>
                            <li class="nav-item" role="presentation">
                                <a class="nav-link" id="session-help" data-toggle="tab" href="#sessionhelp" role="tab"
                                aria-controls="session-help-tab" aria-selected="false">Session Help/Overview</a>
                            </li>
                        </ul>

                        <!-- Tab Panes -->
                        <div class="tab-content">
                            <!-- Active drives with sessions -->
                            {% include 'sessions_drives.html' %}
                            <!-- session edit tab -->
                            {% include 'sessions_edit.html' %}
                            <!-- session help tab -->
                            {% include 'sessions_help.html' %}
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

{% endblock %}
{% block footer %}{{ super() }}{% endblock %}
{% block js %}
    {{ super() }}
     <script>
         document.addEventListener('DOMContentLoaded', function () {
          // Get the form element
          var form = document.getElementById('sessionEdits');

          // Add change event listeners to form elements
          form.addEventListener('change', function () {
            saveForm();
          });
        });

        function saveForm() {
          // Todo: push the data to ARM API for update
          console.log('Form data has changed. Sending data to the server...');
        }
    </script>
{% endblock %}
